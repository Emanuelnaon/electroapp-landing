<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
   <title>ElectroApp - CRM para Electricistas</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>
      <header>
         <h1>‚ö° ElectroApp</h1>
         <p>Un sistema de gesti√≥n gratis para electricistas.</p>
      </header>

      <main>
         <section>
            <h2>¬øPor qu√© ElectroApp?</h2>
            <p>Arm√° presupuestos profesionales en minutos</p>
            <p>Gestion√° tus clientes desde un solo lugar</p>
            <p>Gestiona tus presupuestos desde cualquier dispositivo</p>
            <p>Mostr√° tu trabajo con tu perfil p√∫blico</p>
         </section>

         <section>
            <h2>Pr√≥ximamente</h2>
            <p>Dej√° tu email para ser de los primeros en probarlo:</p>

            <form>
                <input type="email" placeholder="tu@email.com" required>
                <button type="submit">Unirme a la lista de espera</button>
            </form>
         </section>
      </main>
      
      <footer>
         <p>¬© 2026 ElectroApp - Hecho por electricistas, para electricistas</p>
      </footer>
   <script>
   // Seleccionar el formulario 
   const form = document.querySelector('form');

   // Funci√≥n para contar cu√°ntos emails hay guardados
function mostrarContador() {
    const emailsGuardados = Object.keys(localStorage).filter(key => 
        key.startsWith('email_')
    );
    const cantidad = emailsGuardados.length;
    
    // Buscar el footer
    const footer = document.querySelector('footer');
    
    // Crear un nuevo elemento
    const contador = document.createElement('p');
    contador.style.fontSize = '18px';
    contador.style.fontWeight = 'bold';
    contador.style.color = '#2563eb';
    contador.textContent = cantidad + ' electricistas ya se anotaron';
    
    // Insertarlo ANTES del copyright
    footer.insertBefore(contador, footer.firstChild);
}

// Llamar la funci√≥n cuando carga la p√°gina
mostrarContador();
// Funci√≥n para guardar los emails en localStorage

// Manejar el env√≠o del formulario
     form.addEventListener('submit', function(evento) {
    evento.preventDefault();
    // Obtener el valor del input
    const emailInput = document.querySelector('input[type="email"]');
    const email = emailInput.value.trim(); // trim() elimina espacios
    
    // Validaci√≥n 1: ¬øEst√° vac√≠o?
    if (email === '') {
        alert('Por favor, ingres√° tu email');
        return; // Salir de la funci√≥n
    }
    
    // Validaci√≥n 2: ¬øTiene formato v√°lido?
    if (!email.includes('@') || !email.includes('.')) {
        alert('Por favor, ingres√° un email v√°lido (ej: juan@gmail.com)');
        return;
    }
    
    // Validaci√≥n 3: ¬øYa se registr√≥ antes?
    const emailsGuardados = Object.keys(localStorage);
    const yaExiste = emailsGuardados.some(key => 
        localStorage.getItem(key) === email
    );
    // Si ya existe, mostrar alerta
    if (yaExiste) {
        alert('Este email ya est√° en la lista de espera üòä');
        return;
    }
    
    // Si pas√≥ todas las validaciones, guardar
    const button = document.querySelector('button');
    button.textContent = 'Enviando...';
    button.disabled = true;
    
    setTimeout(function() {// Simular retardo de 1 segundo
        localStorage.setItem('email_' + Date.now(), email);// Usar timestamp como clave
        alert("¬°Listo! Te avisaremos cuando est√© listo üöÄ");// Mostrar mensaje de √©xito
        emailInput.value = '';// Limpiar el campo
        button.textContent = 'Unirme a la lista de espera';// Restaurar texto del bot√≥n
        button.disabled = false;// Habilitar el bot√≥n
        location.reload(); // Recargar la p√°gina para actualizar el contador
    }, 1000);
});
   </script>
</body>
</html>