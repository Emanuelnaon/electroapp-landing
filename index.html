<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="CRM gratuito para electricistas profesionales. Arm√° presupuestos en minutos.">
   <title>ElectroApp - CRM para Electricistas</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>
      <header>
         <h1>‚ö° ElectroApp</h1>
         <p>Un sistema de gesti√≥n gratis para electricistas.</p>
      </header>

      <main>
         <section>
            <h2>¬øPor qu√© ElectroApp?</h2>
            <p>Arm√° presupuestos profesionales en minutos</p>
            <p>Gestion√° tus clientes desde un solo lugar</p>
            <p>Gestiona tus presupuestos desde cualquier dispositivo</p>
            <p>Mostr√° tu trabajo con tu perfil p√∫blico</p>
         </section>

         <section>
            <h2>Pr√≥ximamente</h2>
            <p>Dej√° tu email para ser de los primeros en probarlo:</p>

            <form id="waitlist-form">
                <input 
                    type="email" 
                    id="email-input" 
                    placeholder="tu@email.com" 
                    required
                    autocomplete="email"
                >
                <button type="submit" id="submit-btn">
                    Unirme a la lista de espera
                </button>
            </form>
            
            <div id="success-message" style="display: none;">
                ‚úÖ ¬°Listo! Te avisaremos cuando est√© listo.
            </div>
         </section>
      </main>
      
      <footer>
         <p id="counter">0 electricistas ya se anotaron</p>
         <p>¬© 2026 ElectroApp - Hecho por electricistas, para electricistas</p>
      </footer>

    <script>
        const form = document.getElementById('waitlist-form');
        const emailInput = document.getElementById('email-input');
        const submitBtn = document.getElementById('submit-btn');
        const successMessage = document.getElementById('success-message');
        const counter = document.getElementById('counter');

        // Funci√≥n para contar emails guardados
        function updateCounter() {
            const emails = Object.keys(localStorage).filter(key => 
                key.startsWith('electroapp_email_')
            );
            counter.textContent = `${emails.length} electricista${emails.length !== 1 ? 's' : ''} ya se anotaron`;
        }

        // Actualizar contador al cargar
        updateCounter();

        // Manejar env√≠o del formulario
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = emailInput.value.trim();
            
            // Validaci√≥n b√°sica
            if (!email || !email.includes('@')) {
                alert('Por favor ingres√° un email v√°lido');
                return;
            }

            // Verificar duplicados
            const emails = Object.keys(localStorage).filter(key => 
                key.startsWith('electroapp_email_')
            );
            const exists = emails.some(key => 
                localStorage.getItem(key) === email
            );

            if (exists) {
                successMessage.textContent = 'üìß Este email ya est√° en la lista de espera';
                successMessage.style.color = '#f59e0b';
                successMessage.style.display = 'block';
                emailInput.value = '';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);
                return;
            }

            // Deshabilitar bot√≥n mientras "procesa"
            submitBtn.textContent = 'Enviando...';
            submitBtn.disabled = true;

            // Simular delay de red (para que se sienta profesional)
            setTimeout(() => {
                // Guardar en localStorage
                localStorage.setItem('electroapp_email_' + Date.now(), email);
                
                // Limpiar input
                emailInput.value = '';
                
                // Mostrar mensaje de √©xito
                successMessage.textContent = '‚úÖ ¬°Listo! Te avisaremos cuando est√© listo.';
                successMessage.style.color = '#10b981';
                successMessage.style.display = 'block';
                
                // Actualizar contador
                updateCounter();
                
                // Restaurar bot√≥n
                submitBtn.textContent = 'Unirme a la lista de espera';
                submitBtn.disabled = false;
                
                // Ocultar mensaje despu√©s de 5 segundos
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
            }, 800);
        });
    </script>
</body>
</html>